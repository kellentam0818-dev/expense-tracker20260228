# 简易记账APP（命令行版）- 草稿
## 一、项目核心说明
基于Python命令行实现的简易记账工具，核心功能包含打卡签到、分类记账、实时累计消费、日预算提醒，以及按日/周/月生成消费占比饼图；仅使用基础Python语法+matplotlib实现，无超纲内容。

## 二、核心功能清单
### 已确定功能
1. 打卡签到：每日可签到，记录签到日期，避免重复签到
2. 分类记账：输入消费分类、备注、整数金额，自动校验输入合法性
   - 分类映射：A-水电费(utilities)/B-餐饮(food)/C-交通(transport)/D-购物(shopping)/E-娱乐(entertainment)
   - 输入校验：金额必须为正整数，分类仅支持A/B/C/D/E
3. 实时累计与预算提醒：自动统计当日消费总额，超过日预算（默认200元）即时提醒
4. 统计与可视化：支持按日/周/月筛选消费记录，计算各分类消费占比并生成饼图
5. 基础交互：命令行菜单循环，支持选择功能/退出程序

### 待补充/调整功能（后续写代码时完善）
- [ ] （可选）修改/删除消费记录
- [ ] （可选）周/月预算提醒
- [ ] （可选）导出消费记录为文本

## 三、使用步骤（用户视角）
1. 运行程序，命令行显示主菜单：
   - 1. 打卡签到
   - 2. 添加消费记录
   - 3. 查看当日累计消费
   - 4. 生成消费统计饼图（选择日/周/月）
   - 5. 退出程序
2. 选择对应数字，按提示完成操作：
   - 选2时：依次输入分类（A/B/C等）→ 备注（如“午饭”）→ 金额（如20）
   - 选4时：输入统计范围（1-日/2-周/3-月），自动弹出饼图窗口
3. 关键规则：
   - 金额非正整数/分类不合法时，提示重新输入
   - 当日已签到时，重复签到会提示“今日已签到”
   - 累计消费超200元时，即时显示“⚠️ 今日消费已超预算！”

## 四、技术要点（开发视角）
### 核心知识点
- 数据存储：列表（消费记录）+ 字典（分类映射）
- 日期处理：datetime模块（获取今日/本周/本月日期，用于筛选/签到）
- 可视化：matplotlib.pyplot（基础饼图绘制，解决中文显示乱码）
- 可选优化：collections.defaultdict（简化分类金额统计）

### 函数封装规划（后续写代码时按这个方向拆）
- [ ] get_current_date()：获取格式化的今日/本周/本月日期
- [ ] input_validation()：校验金额和分类的合法性
- [ ] checkin()：处理打卡签到逻辑
- [ ] add_expense()：添加消费记录+实时累计+预算提醒
- [ ] calculate_total()：按时间范围统计分类消费金额
- [ ] generate_pie_chart()：生成消费占比饼图
- [ ] main()：主菜单循环，调用各功能函数

## 五、待解决/思考的问题（写代码时记录）
1. 周/月统计时，如何判断消费记录属于“本周/本月”？
2. 饼图的分类标签如何显示中文（已备注：需设置plt.rcParams）？
3. 消费记录仅存在内存中（程序退出后丢失），是否需要简单保存到文本文件？